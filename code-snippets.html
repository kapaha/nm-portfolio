<!doctype html>

<html class="scroll-smooth" lang="en">
    <head>
        <meta charset="UTF-8" />

        <!-- Google Tag Manager -->
        <script>
            (function (w, d, s, l, i) {
                w[l] = w[l] || [];
                w[l].push({
                    "gtm.start": new Date().getTime(),
                    event: "gtm.js",
                });
                var f = d.getElementsByTagName(s)[0],
                    j = d.createElement(s),
                    dl = l != "dataLayer" ? "&l=" + l : "";
                j.async = true;
                j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
                f.parentNode.insertBefore(j, f);
            })(window, document, "script", "dataLayer", "GTM-5QX883VR");
        </script>
        <!-- End Google Tag Manager -->

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            href="./apple-touch-icon.png"
            rel="apple-touch-icon"
            sizes="180x180"
        />
        <link
            type="image/png"
            href="./favicon-32x32.png"
            rel="icon"
            sizes="32x32"
        />
        <link
            type="image/png"
            href="./favicon-16x16.png"
            rel="icon"
            sizes="16x16"
        />
        <link href="./site.webmanifest" rel="manifest" />
        <title>Kai Paterson-Hall | Code Snippets</title>
      <script type="module" crossorigin src="./js/codeSnippets-b323bf36.js"></script>
      <link rel="modulepreload" crossorigin href="./js/shared-29bf5444.js">
      <link rel="stylesheet" href="./css/shared-7af3f094.css">
      <link rel="stylesheet" href="./css/code-snippets-b334430f.css">
    </head>

    <body class="bg-zinc-900 text-white">
        <!-- Google Tag Manager (noscript) -->
        <noscript>
            <iframe
                src="https://www.googletagmanager.com/ns.html?id=GTM-5QX883VR"
                height="0"
                width="0"
                style="display: none; visibility: hidden"
            >
            </iframe
        ></noscript>
        <!-- End Google Tag Manager (noscript) -->

        <header class="header">
            <!-- Hamburger button -->
            <button
                class="hamburger hamburger--collapse"
                data-mobile-menu-toggler
            >
                <span class="hamburger-box">
                    <span class="hamburger-inner"></span>
                </span>
            </button>
        </header>

        <!-- Mobile menu -->
        <div class="mobile-menu">
            <nav>
                <ul>
                    <li>
                        <a
                            class="text-2xl transition-colors duration-500 hover:bg-zinc-800 md:text-4xl"
                            data-mobile-menu-toggler
                            href="./"
                            tabindex="-1"
                        >
                            Home
                        </a>
                    </li>
                    <li>
                        <a
                            class="text-2xl transition-colors duration-500 hover:bg-zinc-800 md:text-4xl"
                            data-mobile-menu-toggler
                            href="about.html"
                            tabindex="-1"
                        >
                            About Me
                        </a>
                    </li>
                    <li>
                        <a
                            class="text-2xl transition-colors duration-500 hover:bg-zinc-800 md:text-4xl"
                            data-mobile-menu-toggler
                            href="./#projects"
                            tabindex="-1"
                        >
                            My Projects
                        </a>
                    </li>
                    <li>
                        <a
                            class="text-2xl transition-colors duration-500 hover:bg-zinc-800 md:text-4xl"
                            data-mobile-menu-toggler
                            href="code-snippets.html"
                            tabindex="-1"
                        >
                            Code Snippets
                        </a>
                    </li>
                    <li>
                        <a
                            class="text-2xl transition-colors duration-500 hover:bg-zinc-800 md:text-4xl"
                            data-mobile-menu-toggler
                            href="./#contact"
                            tabindex="-1"
                        >
                            Contact Me
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="mobile-menu__socials">
                <a
                    class="text-4xl transition-colors hover:text-orange-400"
                    href="https://www.linkedin.com/in/kaipatersonhall/"
                    target="_blank"
                    rel="noopener noreferrer"
                    tabindex="-1"
                >
                    <i class="fa-brands fa-linkedin"></i>
                </a>
                <a
                    class="text-4xl transition-colors hover:text-orange-400"
                    href="https://github.com/kapaha"
                    target="_blank"
                    rel="noopener noreferrer"
                    tabindex="-1"
                >
                    <i class="fa-brands fa-square-github"></i>
                </a>
                <a
                    class="text-4xl transition-colors hover:text-orange-400"
                    href="https://twitter.com/kapahaweb"
                    target="_blank"
                    rel="noopener noreferrer"
                    tabindex="-1"
                >
                    <i class="fa-brands fa-square-twitter"></i>
                </a>
            </div>
        </div>

        <!-- Side menu -->
        <div
            class="fixed hidden h-full w-[300px] border-r-4 border-orange-400 bg-zinc-900 shadow lg:block"
        >
            <a
                class="flex items-center justify-center border-b-4 border-orange-400 text-[9rem] font-bold uppercase"
                href="./"
            >
                K
            </a>

            <ul class="mt-10 flex flex-col text-center text-2xl">
                <li>
                    <a
                        class="block py-4 decoration-orange-400 hover:underline"
                        href="about.html"
                    >
                        About Me
                    </a>
                </li>
                <li>
                    <a
                        class="block py-4 decoration-orange-400 hover:underline"
                        href="./#projects"
                    >
                        My Projects
                    </a>
                </li>
                <li>
                    <a
                        class="block py-4 decoration-orange-400 hover:underline"
                        href="code-snippets.html"
                    >
                        Code Snippets
                    </a>
                </li>
                <li>
                    <a
                        class="block py-4 decoration-orange-400 hover:underline"
                        href="./#contact"
                    >
                        Contact Me
                    </a>
                </li>
            </ul>

            <div class="mt-10 flex items-center justify-center gap-10">
                <a
                    class="text-4xl transition-colors hover:text-orange-400"
                    href="https://www.linkedin.com/in/kaipatersonhall/"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <i class="fa-brands fa-linkedin"></i>
                </a>
                <a
                    class="text-4xl transition-colors hover:text-orange-400"
                    href="https://github.com/kapaha"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <i class="fa-brands fa-square-github"></i>
                </a>
                <a
                    class="text-4xl transition-colors hover:text-orange-400"
                    href="https://twitter.com/kapahaweb"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <i class="fa-brands fa-square-twitter"></i>
                </a>
            </div>
        </div>

        <main class="mt-[60px] lg:ml-[300px] lg:mt-0">
            <div
                class="container mx-auto max-w-screen-md space-y-6 p-8 md:space-y-10 md:p-10 lg:p-20"
            >
                <h1 class="text-center text-4xl font-bold md:text-5xl">
                    Code
                    <span class="caption-bottom tracking-wider text-orange-400">
                        Snippets
                    </span>
                </h1>

                <!-- Code Snippet -->
                <div class="space-y-6 md:space-y-10">
                    <h2 class="!mt-10 text-2xl font-bold lg:!mt-20">
                        Mobile menu factory
                    </h2>

                    <pre
                        class="!max-w-full"
                    ><code>export function createMobileMenu(
    bodyOpenClass,
    mobileMenuTogglers,
    mobileMenuLinks,
) {
    function _toggleMobileMenu() {
        const shouldOpen = !document.body.classList.contains(bodyOpenClass);

        const classListMethod = shouldOpen ? "add" : "remove";
        const tabIndex = shouldOpen ? 0 : -1;

        document.body.classList[classListMethod](bodyOpenClass);

        mobileMenuLinks.forEach((link) => (link.tabIndex = tabIndex));
    }

    function init() {
        mobileMenuTogglers.forEach((element) =>
            element.addEventListener("click", _toggleMobileMenu),
        );
    }

    return Object.freeze({
        init,
    });
}</code></pre>
                    <div class="space-y-4 md:text-lg xl:text-xl">
                        <p>
                            This code snippet defines a factory function (a
                            function used to create objects) for creating a
                            mobile menu object. When the init function is run on
                            the mobile menu object, click event handlers are
                            setup for the supplied elements, which will do the
                            following:
                        </p>

                        <ul class="ml-5 list-disc space-y-2">
                            <li>
                                Toggle the body class (used for styling menu
                                elements)
                            </li>
                            <li>
                                Toggle the ability to tab to links within the
                                menu (improving accessibility)
                            </li>
                        </ul>

                        <p>
                            This modular approach allows easy integration into
                            other projects, promoting code reusability.
                        </p>
                    </div>
                </div>

                <!-- Code Snippet -->
                <div class="space-y-6 md:space-y-10">
                    <h2 class="!mt-10 text-2xl font-bold lg:!mt-20">
                        addGlobalEventListener Function
                    </h2>
                    <pre
                        class="!max-w-full"
                    ><code>export function addGlobalEventListener(type, selector, callback) {
    document.addEventListener(type, (e) => {
        if (e.target.closest(selector)) callback(e);
    });
}</code></pre>

                    <div class="space-y-4 md:text-lg xl:text-xl">
                        <p>
                            This function, <code>addGlobalEventListener</code>,
                            is a utility to add event listeners globally to the
                            document, but only trigger the callback when events
                            originate from elements that match a specific CSS
                            selector.
                        </p>
                        <ul class="ml-5 list-disc space-y-2">
                            <li>
                                <strong>type</strong>: The type of event to
                                listen for (e.g., 'click', 'mouseover').
                            </li>
                            <li>
                                <strong>selector</strong>: A CSS selector string
                                used to filter events based on the originating
                                element.
                            </li>
                            <li>
                                <strong>callback</strong>: The function to
                                execute when the event occurs on an element that
                                matches the selector.
                            </li>
                        </ul>
                        <p>
                            The function works by attaching an event listener to
                            the entire document. Inside the event listener, it
                            checks if the event's target element, or any of its
                            ancestors, matches the provided selector. If a match
                            is found, the callback function is executed.
                        </p>
                        <p>
                            This approach is particularly useful for handling
                            events on elements that are dynamically added to the
                            page, as the event listener is attached to a
                            permanent element (the document) rather than the
                            dynamic elements themselves.
                        </p>
                    </div>
                </div>

                <!-- Code Snippet -->
                <div class="space-y-6 md:space-y-10">
                    <h2 class="!mt-10 text-2xl font-bold lg:!mt-20">
                        Storage module
                    </h2>
                    <pre
                        class="!max-w-full"
                    ><code>const STORAGE_KEY_USERS = "USERS";
const STORAGE_KEY_ACTIVE_USER_ID = "ACTIVE_USER_ID";

function get(key) {
    return JSON.parse(localStorage.getItem(key));
}

function set(key, value) {
    localStorage.setItem(key, JSON.stringify(value));
}

function getUsers() {
    return get(STORAGE_KEY_USERS);
}

function setUsers(users) {
    set(STORAGE_KEY_USERS, users);
}

function getActiveUser() {
    return get(STORAGE_KEY_ACTIVE_USER_ID);
}

function setActiveUser(activeUser) {
    set(STORAGE_KEY_ACTIVE_USER_ID, activeUser);
}

export default {
    getUsers,
    setUsers,
    getActiveUser,
    setActiveUser,
};</code></pre>

                    <div class="space-y-4 md:text-lg xl:text-xl">
                        <p>
                            This code snippet demonstrates a practical approach
                            to manage user data in web applications using the
                            Web Storage API's <code>localStorage</code>. It
                            consists of utility functions for handling
                            operations like retrieving and storing user
                            information and the active user's ID. The snippet is
                            particularly useful for applications that require
                            client-side state management without a backend
                            database.
                        </p>
                        <h3>Key Features:</h3>
                        <ul class="ml-5 list-disc space-y-2">
                            <li>
                                <strong>Storage Keys:</strong> Uses constants
                                <code>STORAGE_KEY_USERS</code> and
                                <code>STORAGE_KEY_ACTIVE_USER_ID</code> as keys
                                for <code>localStorage</code>.
                            </li>
                            <li>
                                <strong>get and set Functions:</strong>
                                Abstracts <code>localStorage</code> operations
                                for parsing and stringifying JavaScript objects.
                            </li>
                            <li>
                                <strong>User Management Functions:</strong>
                                <ul class="ml-5 list-disc space-y-2">
                                    <li>
                                        <code>getUsers</code> and
                                        <code>setUsers</code> for handling the
                                        users' list.
                                    </li>
                                    <li>
                                        <code>getActiveUser</code> and
                                        <code>setActiveUser</code> for managing
                                        the active user ID.
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <strong>Modular Export:</strong> Functions are
                                exported as a module for easy reuse across the
                                application.
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>

        <a
            class="scroll-to-top fixed bottom-10 right-10 hidden rounded-full bg-blue-500 px-4 py-2 text-2xl font-bold text-white"
            title="Scroll to top"
            href="#top"
            aria-label="Scroll to top"
        >
            <i class="fa-solid fa-arrow-up"></i>
        </a>

        
    </body>
</html>
